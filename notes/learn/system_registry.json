{
    "meta": {
      "version": "3.0",
      "description": "System configuration defining Categories, Assets, and Recipes"
    },
  
    "//_comment_categories": "1. 你的 Category JSON 需求。这是 UI 菜单生成的依据",
    "categories": [
      {
        "id": "media",
        "label": "媒体 (Media)",
        "icon": "file-image"
      },
      {
        "id": "world",
        "label": "世界构建 (World)",
        "icon": "globe"
      },
      {
        "id": "org",
        "label": "组织 (Organization)",
        "icon": "folder"
      },
      {
        "id": "items",
        "label": "物品 (Items)",
        "icon": "box"
      }
    ],
  
    "//_comment_mixins": "定义了高中生、特工、背包这三个能力的本质",
    "mixins": {
      "identity_highschool": {
        "properties": {
          "school_name": { "type": "string", "default": "No.1 High School" },
          "grade": { "type": "number", "default": 2 }
        }
      },
      "identity_agent": {
        "properties": {
          "codename": { "type": "string", "label": "代号" },
          "specialty": { "type": "string", "label": "特长" }
        }
      },
      "gear_backpack": {
        "properties": {
          "capacity_slot": { 
            "type": "connection", 
            "accepts": ["collection_asset"], // 这个字段必须连一个集合节点
            "label": "战术背包"
          }
        }
      }
    },
  
    "//_comment_recipes": "2. 你的配方需求。注意 input_mapping，它决定了配方只看哪些字段",
    "recipes": {
      "simple_profile_photo_gen": {
        "id": "recipe_gen_001",
        "label": "生成证件照 (Generate ID Photo)",
        "category": "AI Generation",
        "agent": "sd_simple_agent",
        "type": "heavy",
        
        "//_comment_logic": "输入限制为 character 类型",
        "input_schema": {
          "type": "character"
        },
  
        "//_comment_mapping": "这是关键！虽然输入节点是特工，但这个配方'有眼不识泰山'，它只提取普通人的字段。",
        "param_mapping": {
          "prompt_template": "A realistic ID photo of a {{age}} year old {{gender}}, named {{name}}",
          "extract_fields": ["name", "age", "gender"] // 忽略 codename 和 specialty
        },
  
        "output_schema": {
          "type": "image_asset",
          "naming_rule": "{{name}}_ID_Photo.png"
        }
      }
    }
  }